
## 采样截图
所谓采样截图，是指依照相同的时间间隔对视频进行采样，截取采样点的视频图像信息，并生成多张图片。

### 采样截图模板
采样截图操作存在多项参数，我们使用“采样截图模板”来作为这些参数的“容器”。在发起采样截图时，只需要指定模板ID即可。

为方便开发者的调用，点播系统预置了一组采样截图模板，参见 [预置采样截图模板](#.E9.A2.84.E7.BD.AE.E9.87.87.E6.A0.B7.E6.88.AA.E5.9B.BE.E6.A8.A1.E6.9D.BF)。如果预置模板无法满足您的需求，可以提需求工单配置新的模板。

采样截图模板参数与能力值如下表所示：

<table>
	<tr>
        <th style="width:18%">
            分类               
        </th>
        <th style="width:22%">
            参数/能力项
        </th>
        <th>
            说明
        </th>
    </tr>
    <tr>
        <td rowspan=3>
            输出图像参数</a>
        </td>
        <td>
            格式(Format)
        </td>
        <td>
            支持 JPG，PNG 两种输出格式。
        </td>
    </tr>
    <tr>
        <td>
            宽度(Width)
        </td>
        <td>
            宽度范围：128~4096 像素。
        </td>
    </tr>
    <tr>
        <td>
            高度(Width)
        </td>
        <td>
            高度范围：128~4096 像素。
        </td>
    </tr>
	<tr>
        <td rowspan=3>
            截图控制参数
        </td>
        <td>
            填充方式(FillType)
        </td>
        <td>
            所谓“填充”，是指当源视频分辨率与目标图片的<b>宽高比</b>不匹配时，如何进行处理。支持如下几种填充方式：
            <li>拉伸：对图片进行拉伸，确保填满整个图片，可能导致图片被“压扁”或者“拉长”；</li>
            <li>留黑：保持图片宽高比不变，边缘剩余部分使用黑色填充；</li>
            <li>留白：保持图片宽高比不变，边缘剩余部分使用白色填充；</li>
            <li>透明：保持图片宽高比不变，边缘剩余部分完全透明（仅适用于 PNG 格式的输出）。</li>
        </td>
    </tr>
	<tr>
        <td>
            采样方式(SampleType)
        </td>
        <td>
            支持两种采样方式：
            <li>Percent：根据视频时长的百分比间隔采样，例如：取值为 5 意味着，采样截图的间隔为视频时长的 5%，总共会截出 20 张图片；</li>
            <li>Time：根据时间间隔采样，例如：取值为 5 意味着采样间隔为 5 秒。</li>
        </td>
    </tr>
    <tr>
        <td>
            自动缩放
        </td>
        <td>
            支持依照宽度或者高度进行自动缩放。
        </td>
    </tr>
</table>


### 发起采样截图
目前暂时仅支持通过任务流相关接口发起指定时间点截图，参见：
- [使用任务流处理视频](/document/product/266/11700#.E4.BD.BF.E7.94.A8.E4.BB.BB.E5.8A.A1.E6.B5.81.E5.A4.84.E7.90.86.E8.A7.86.E9.A2.91)。

### 获取采样截图的结果
可以通过如下两种方式获取采样截图的结果：

- 在发起采样截图任务之后，根据任务 ID 查询该任务的状态与结果，参见 [事件通知与任务管理](/document/product/266/7829)；
- 在采样截图任务成功执行完毕之后，截图结果将被绑定到媒资，参见 [服务端API：获取视频信息(GetVideoInfo)](/document/product/266/8586)。
